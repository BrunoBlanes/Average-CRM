@page "/"

@using Microsoft.AspNetCore.Components.WebAssembly.Authentication

@inject NavigationManager Navigation
@inject SignOutSessionStateManager SignOutManager

@layout MainLayout

<AuthorizeView>
	<Authorized>
		<fluent-button appearance="accent" @onclick="@LogoutButtonClick">Logout</fluent-button>
	</Authorized>

	<NotAuthorized>
		@{ Navigation.NavigateTo("authentication/login"); }
	</NotAuthorized>
</AuthorizeView>

@code{
	private async Task LogoutButtonClick(MouseEventArgs args)
	{
		await SignOutManager.SetSignOutState();
		Navigation.NavigateTo("authentication/logout");
	}
}