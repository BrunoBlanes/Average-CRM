@page "/"

@using Microsoft.AspNetCore.Components.WebAssembly.Authentication;

@inject NavigationManager Navigation;
@inject SignOutSessionStateManager SignOutManager;

@layout MainLayout

<AuthorizeView>
	<Authorized>
		<Button Name="LogoutButton" Content="Logout" OnClickCallback="@LogoutButtonClick" />
	</Authorized>

	<NotAuthorized>
		@{ Navigation.NavigateTo("authentication/login"); }
	</NotAuthorized>
</AuthorizeView>

@code{
	private async Task LogoutButtonClick(MouseEventArgs args)
	{
		await SignOutManager.SetSignOutState();
		Navigation.NavigateTo("authentication/logout");
	}
}