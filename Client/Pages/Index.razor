@page "/"

@using Microsoft.AspNetCore.Components.WebAssembly.Authentication

@inject NavigationManager Navigation
@inject SignOutSessionStateManager SignOutManager

<AuthorizeView>
	<Authorized>
		<Button Name="LogoutButton" Content="Logout" OnClickCallback="@LogoutButtonClick" />
	</Authorized>

	<NotAuthorized>
		<Button Name="LoginButton" Content="Login" Primary="true" OnClickCallback="@LoginButtonClick" />
	</NotAuthorized>
</AuthorizeView>

@code{
	private void LoginButtonClick(MouseEventArgs args)
	{
		Navigation.NavigateTo("authentication/login");
	}

	private async Task LogoutButtonClick(MouseEventArgs args)
	{
		await SignOutManager.SetSignOutState();
		Navigation.NavigateTo("authentication/logout");
	}
}